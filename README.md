# Web-IPAM System

**Web-based IP Address Management System** - Веб-система для управления IP-адресным пространством оператора связи.

## О проекте

Web-IPAM (IP Address Management) — это полнофункциональное веб-приложение для автоматизации учета и управления IP-инфраструктурой. Система разработана для замены ручного ведения учета в Excel-таблицах и предотвращения конфликтов IP-адресов в сетях провайдеров и корпоративных сетях.

### Решаемые проблемы

- **Хаотичный учет IP-адресов** в Excel-таблицах
- **IP-конфликты** из-за ручного управления
- **Отсутствие централизованной информации** о сетевой инфраструктуре
- **Сложность поиска** информации об абонентах и устройствах
- **Отсутствие контроля доступа** к сетевым данным

## Реализованный функционал

### Готовые модули

#### Система аутентификации и авторизации

- **Безопасный вход** с хэшированием паролей
- **Ролевая модель доступа** (Администратор, Инженер, Оператор)
- **Защита сессий** с таймаутом
- **Подготовленные SQL-запросы** - защита от инъекций

#### Дашборд системы

- **Визуальная статистика** в реальном времени
- **Ключевые метрики**: клиенты, активные IP, свободные IP, подсети
- **Разделение по типам IP**: белые/серые адреса
- **Быстрый доступ** ко всем модулям системы

#### Модуль управления IP-адресами

- **Полный список IP-адресов** с детальной информацией
- **Расширенная фильтрация** по типу, статусу, подсети
- **Поиск** по IP, MAC-адресу, клиенту
- **Визуальные индикаторы** статусов и типов IP
- **Статистика** по каждому разделу

### В разработке

- Формы добавления/редактирования IP-адресов
- Модули управления клиентами, устройствами, подсетями
- Система пользователей
- Расширенная отчетность

## Технологический стек

### Backend

- **PHP 7.4+** - серверный язык с ООП подходом
- **MySQL 5.7+** - реляционная база данных
- **Apache** - веб-сервер
- **Сессии PHP** - управление аутентификацией

### Frontend

- **HTML5** - семантическая разметка
- **CSS3** - современные стили с Flexbox/Grid
- **JavaScript (ES6+)** - клиентская логика
- **Bootstrap 5** - адаптивный UI-фреймворк
- **Responsive Design** - мобильная адаптация

### Безопасность

- **Password hashing** - `password_hash()`/`password_verify()`
- **Prepared statements** - защита от SQL-инъекций
- **CSRF protection** - готовый механизм токенов
- **Input validation** - валидация всех входных данных
- **Session security** - регенерация ID, таймауты
- **XSS protection** - `htmlspecialchars()` на выводе

## Архитектура базы данных

```sql
users (Пользователи системы)
├── id, login, password_hash, role, full_name, created_at

clients (Клиенты-абоненты)  
├── id, contract_number, full_name, address, phone

subnets (Подсети)
├── id, network_address, cidr_mask, gateway, description

devices (Сетевые устройства)
├── id, mac_address, model, serial_number, client_id

ip_addresses (IP-адреса)
├── id, ip_address, subnet_id, device_id, type, status, 
│   description, created_by, created_at
```

**Связи:** Внешние ключи обеспечивают целостность данных между таблицами.

## Ролевая модель доступа

### Администратор

- **Полный доступ** ко всем функциям системы
- **Управление пользователями** - создание, редактирование, удаление
- **Настройки системы** - конфигурация и параметры
- **Просмотр логов** и аудит действий

### Сетевой инженер

- **Управление сетевой инфраструктурой** - подсети, IP-адреса
- **Привязка белых IP** к клиентам
- **Настройка оборудования** на основе данных системы
- **Просмотр всей информации** о сети и клиентах

### Оператор

- **Просмотр информации** - клиенты, устройства, IP-адреса
- **Изменение статусов** IP-адресов
- **Простая привязка** устройств к клиентам
- **Поиск информации** для техподдержки

## Структура проекта

```
web-ipam/
├── index.php                 # Главная страница (Дашборд)
├── login.php                 # Страница авторизации
├── logout.php                # Выход из системы
├── README.md                 # Документация
├── .gitignore                # Git исключения
│
├── includes/                 # PHP модули системы
│   ├── auth.php              # Аутентификация и авторизация
│   ├── db_connect.php        # Безопасное подключение к БД
│   ├── config.php            # Конфигурация приложения
│   ├── header.php            # Навигация и шапка сайта
│   ├── security.php          # Функции безопасности
│   └── search.php            # Логика поиска (в разработке)
│
├── pages/                    # Функциональные модули
│   ├── ip-addresses/         
│   │   ├── list.php            # Список IP-адресов с фильтрами
│   │   ├── add.php             # Добавление IP (в разработке)
│   │   ├── edit.php            # Редактирование (в разработке)
│   │   └── delete.php          # Удаление (в разработке)
│   │
│   ├── clients/              В РАЗРАБОТКЕ
│   │   ├── list.php            # Список клиентов
│   │   └── edit.php            # Редактирование клиента
│   │
│   ├── devices/              В РАЗРАБОТКЕ
│   │   ├── list.php            # Список устройств
│   │   └── edit.php            # Редактирование устройства
│   │
│   ├── subnets/              В РАЗРАБОТКЕ
│   │   ├── list.php            # Список подсетей
│   │   └── edit.php            # Редактирование подсети
│   │
│   └── users/                В РАЗРАБОТКЕ
│       ├── list.php            # Список пользователей
│       └── edit.php            # Редактирование пользователя
│
├── assets/                   # Статические ресурсы
│   ├── css/
│   │   └── style.css           # Основные стили
│   ├── js/
│   │   └── main.js            # Клиентские скрипты
│   └── img/                   # Изображения и иконки
│
├── sql/                      # База данных
│   └── init.sql              # Инициализация БД и тестовые данные
│
└── temp/                     # Служебные папки
    ├── logs/                 # Логи приложения
    └── cache/                # Кеш системы
```

## Установка и запуск

### Предварительные требования

- **WAMP/MAMP/LAMP сервер**
- **PHP 7.4 или выше** с расширением MySQLi
- **MySQL 5.7 или выше** 
- **Веб-браузер** с поддержкой ES6+

### Пошаговая установка

1. **Клонирование репозитория**
   
   ```bash
   git clone https://github.com/feronski-bkpk/web-ipam
   cd web-ipam
   ```

2. **Настройка базы данных**
   
   - Откройте phpMyAdmin (`http://localhost/phpmyadmin`)
   - Создайте базу данных `web_ipam`
   - Импортируйте SQL-скрипт: `sql/init.sql`

3. **Размещение проекта**
   
   - Скопируйте файлы в корневую папку веб-сервера
   - Для WAMP: `C:\wamp64\www\web-ipam\`
   - Убедитесь, что папки имеют права на запись (temp/logs, temp/cache)

4. **Доступ к приложению**
   
   - Откройте: `http://localhost/web-ipam`
   - Используйте тестовые учетные данные:

### Тестовые пользователи

| Роль            | Логин      | Пароль     | Доступ                      |
| --------------- | ---------- | ---------- | --------------------------- |
| Администратор   | `admin`    | `admin123` | Полный доступ               |
| Сетевой инженер | `engineer` | `admin123` | Управление сетями           |
| Оператор        | `operator` | `admin123` | Просмотр и базовые операции |

## Использование системы

### Быстрый старт

1. **Войдите в систему** с учетными данными выше
2. **Изучите дашборд** - основные метрики системы
3. **Перейдите в "IP-адреса"** - основной рабочий модуль
4. **Используйте фильтры** для поиска нужной информации
5. **Проверьте навигацию** между разделами

### Ключевые сценарии использования

#### Поиск информации об абоненте

1. Откройте раздел "IP-адреса"
2. Используйте поиск по ФИО клиента
3. Найдите все связанные IP и устройства

#### Управление подсетями

1. Просмотр списка подсетей (в разработке)
2. Анализ занятости IP в подсети
3. Планирование новых подсетей

#### Техническая поддержка

1. Быстрый поиск по IP или MAC-адресу
2. Просмотр привязанного клиента
3. Изменение статусов IP-адресов

## Разработка

### Локальная разработка

1. **Настройка окружения**
   
   ```bash
   # Установите WAMP Server
   # Настройте виртуальный хост (опционально)
   # Настройте доступ к БД в includes/db_connect.php
   ```

2. **Архитектура разработки**
   
   - **Модель**: MySQL база данных
   - **Представление**: PHP + HTML + Bootstrap
   - **Контроллер**: PHP скрипты с подготовленными запросами

3. **Стандарты кода**
   
   - Подготовленные SQL-запросы для безопасности
   - Валидация всех входных данных
   - Экранирование выходных данных
   - Единый стиль именования

### Добавление нового функционала

1. Создайте ветку для новой функции
2. Реализуйте backend логику в `/pages/`
3. Добавьте frontend компоненты
4. Протестируйте безопасность и валидацию
5. Создайте pull request

## Текущий статус проекта

### Завершено

- [x] Проектирование базы данных
- [x] Система аутентификации
- [x] Ролевая модель доступа
- [x] Главный дашборд
- [x] Модуль IP-адресов (список + фильтры)
- [x] Базовая безопасность
- [x] Адаптивный дизайн

### В процессе

- [ ] Формы CRUD для всех модулей
- [ ] Валидация бизнес-логики
- [ ] Расширенная отчетность
- [ ] Поиск across всех таблиц

### Планируется

- [ ] API для интеграции с другими системами
- [ ] Уведомления и оповещения
- [ ] Резервное копирование данных
- [ ] Графики и аналитика

## Участие в разработке

Мы приветствуем contributions! Чтобы внести свой вклад:

1. Форкните репозиторий
2. Создайте feature branch (`git checkout -b feature/AmazingFeature`)
3. Закоммитьте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Запушьте branch (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

# 
